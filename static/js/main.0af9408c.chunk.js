(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){},25:function(e,t,a){e.exports=a(43)},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(22),l=a.n(s),i=(a(30),a(11)),o=a(12),c=a(3),h=a(4),m=a(6),u=a(5),d=a(1),p=a(7),g=(a(20),a(31),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"header-wrapper"},r.a.createElement("div",{className:"logo-wrapper"},r.a.createElement("img",{src:"icons/logo-hn-search.webp",className:"header-logo",alt:"Hacker News logo"}),r.a.createElement("div",{className:"header-title"},"Search",r.a.createElement("br",null),"Hacker News")),this.props.search?r.a.createElement("div",{className:"search-wrapper"},r.a.createElement("div",{className:"item-input-wrapper"},r.a.createElement("input",{type:"text",value:this.props.query,onChange:this.props.handleInputChange,className:"search-bar"})),r.a.createElement("div",{className:"powered-by"},r.a.createElement("div",{className:"by-algolia"},"by"),r.a.createElement("a",{href:"https://www.algolia.com/"},r.a.createElement("img",{className:"algolia-logo",alt:"Algolia",src:"icons/logo-algolia-nebula-blue-full-edited.svg"})))):null)}}]),t}(n.Component)),b=(a(32),a(33),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={displayMenu:!1},a.showDropdownMenu=a.showDropdownMenu.bind(Object(d.a)(a)),a.hideDropdownMenu=a.hideDropdownMenu.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"showDropdownMenu",value:function(e){var t=this;e.preventDefault(),this.setState({displayMenu:!0},function(){document.addEventListener("click",t.hideDropdownMenu)})}},{key:"hideDropdownMenu",value:function(){var e=this;this.setState({displayMenu:!1},function(){document.removeEventListener("click",e.hideDropdownMenu)})}},{key:"render",value:function(){var e=this,t=this.props.links.map(function(t,a){return r.a.createElement("li",null,r.a.createElement("a",{href:"#",key:a,onClick:e.props.onClick},t.label))});return r.a.createElement("div",{className:"dropdown",style:{background:"white",width:"auto"}},r.a.createElement("div",{className:"button",onClick:this.showDropdownMenu},this.props.selection),this.state.displayMenu?r.a.createElement("ul",{className:"dropdown-list"},t):null)}}]),t}(n.Component)),y={Type:[{label:"All"},{label:"Stories"},{label:"Comments"}],SortOrder:[{label:"Popularity"},{label:"Date"}],DateRange:[{label:"All time"},{label:"Last 24h"},{label:"Past Week"},{label:"Past Month"},{label:"Past Year"}]},v=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={searchType:a.props.searchType,sortBy:a.props.sortOrder,dateRange:a.props.dateRange},a.handleTypeChange=a.handleTypeChange.bind(Object(d.a)(a)),a.handleSortOrderChange=a.handleSortOrderChange.bind(Object(d.a)(a)),a.handleDateRangeChange=a.handleDateRangeChange.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleTypeChange",value:function(e){console.log(e.target.innerHTML);var t=e.target.innerHTML;this.setState({searchType:t}),this.props.handleTypeChange(t)}},{key:"handleSortOrderChange",value:function(e){console.log(e.target.innerHTML);var t=e.target.innerHTML;this.setState({sortBy:t}),this.props.handleSortOrderChange(t)}},{key:"handleDateRangeChange",value:function(e){console.log(e.target.innerHTML);var t=e.target.innerHTML;this.setState({dateRange:t}),this.props.handleDateRangeChange(t)}},{key:"render",value:function(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("span",{className:"text"},"Search "),r.a.createElement(b,{selection:this.state.searchType,links:y.Type,onClick:this.handleTypeChange}),r.a.createElement("span",{className:"text"},"by")," ",r.a.createElement(b,{selection:this.state.sortBy,links:y.SortOrder,onClick:this.handleSortOrderChange}),r.a.createElement("span",{className:"text"},"for")," ",r.a.createElement(b,{selection:this.state.dateRange,links:y.DateRange,onClick:this.handleDateRangeChange}),r.a.createElement("div",{className:"processing-time"},this.props.nbHits," results (",this.props.processingTime/1e3," seconds)"))}}]),t}(n.Component),f=(a(34),a(35),function(e){var t=e.children,a=e.className,n=void 0===a?"":a;return r.a.createElement("div",{className:n,dangerouslySetInnerHTML:{__html:t.replace(/\n/g,"<br />")}})}),E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).getDate=a.getDate.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"getDate",value:function(e){var t=new Date(e),a=+new Date/1e3-+t/1e3;return a>=31536e3?Math.floor(a/31536e3)+" year"+(a/31536e3>2?"s":"")+" ago":a>=2678400?Math.floor(a/2678400)+" month"+(a/2678400>2?"s":"")+" ago":a>=604800?Math.floor(a/604800)+" week"+(a/604800>2?"s":"")+" ago":a>=86400?Math.floor(a/86400)+" day"+(a/86400>2?"s":"")+" ago":a>=3600?Math.floor(a/3600)+" hour"+(a/3600>2?"s":"")+" ago":a>=60?Math.floor(a/60)+" minute"+(a/60>2?"s":"")+" ago":a>=1?Math.floor(a/1)+" second"+(a/1>2?"s":"")+" ago":"less than a second ago"}},{key:"render",value:function(){var e=this.props.data;return r.a.createElement("div",{className:"item"},r.a.createElement("h2",{className:"title"},r.a.createElement("a",{href:e.link},r.a.createElement(f,null,e.title))),r.a.createElement("ul",{className:"item-info-list"},this.props.comment?null:r.a.createElement("li",{className:"first-element"},r.a.createElement("a",{href:e.link,title:"See original post at HN"},e.points," ",1!==e.points?"points":"point")),r.a.createElement("li",{className:this.props.comment?"first-element":""},r.a.createElement("a",{href:"https://news.ycombinator.com/user?id="+e.user,title:"see "+e.user+" profile"},e.user)),r.a.createElement("li",null,r.a.createElement("a",{href:e.link,title:e.date},this.getDate(e.date))),this.props.comment?r.a.createElement("li",null,r.a.createElement("a",{href:"https://news.ycombinator.com/item?id="+e.story_id,title:"See original post at HN"},this.props.comment?"":e.comments+" ",1!==e.comments?"comments":"comment")):null,this.props.comment||this.props.story_text?null:r.a.createElement("li",{className:"link"},r.a.createElement("a",{href:e.link},"(",e.link,")"))),null!==this.props.story_text?r.a.createElement("div",{className:"comment"},r.a.createElement(f,null,this.props.story_text)):this.props.comment?r.a.createElement("div",{className:"comment"},r.a.createElement(f,null,e.comment_text)):null)}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data.hits.map(function(t){return r.a.createElement(E,{key:t.objectID,data:{title:"comment"==t._tags[0]?e.props.highlight?t._highlightResult.story_title.value:t.story_title:e.props.highlight?t._highlightResult.title.value:t.title,points:t.points,comments:t.num_comments,user:t.author,date:t.created_at,link:e.props.comment?t.story_url:t.url,comment_text:t.comment_text,story_id:e.props.comment?t.story_id:null},story_text:t._highlightResult.story_text?t._highlightResult.story_text.value:null,comment:"story"!=t._tags[0]})});return r.a.createElement("div",{className:"results-wrapper"},t)}}]),t}(n.Component),O=(a(36),function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).nextGroup=function(){console.log(a.state.firstPage);var e=Math.min(a.state.firstPage+5,a.props.data.nbPages-5);a.setState({firstPage:e})},a.prevGroup=function(){console.log(a.state.firstPage);var e=Math.max(a.state.firstPage-5,0);a.setState({firstPage:e})};var n=a.props.data,r=n.page;n.nbPages;return a.state={firstPage:Math.floor(r/5)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.data,n=a.nbPages,s=a.page,l=(a.hitsPerPage,[]),i=this.state.firstPage;for(e=i;e<Math.min(n,i+5);e++)l.push(e+1);var o=l.map(function(e,a){return r.a.createElement("li",{key:a,className:e===s+1?"active":""},r.a.createElement("button",{onClick:t.props.getPage},e))});return r.a.createElement("div",{className:"page-numbers-container"},r.a.createElement("ul",{className:"search-pagination"},i>4?r.a.createElement("li",null,r.a.createElement("button",{onClick:this.prevGroup},"<<")):null,o,n>5&&i+5<n?r.a.createElement("span",null,r.a.createElement("li",null,r.a.createElement("button",{disabled:!0},"..."))," ",i+5<n?r.a.createElement("li",{className:n===s+1?"active":""},r.a.createElement("button",{onClick:this.props.getPage},n)):null," "):null,i+5<n?r.a.createElement("li",null,r.a.createElement("button",{onClick:this.nextGroup},">>")):null))}}]),t}(n.Component)),w=(a(37),function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement(i.b,{to:"/"},"Main"),"\u2022",r.a.createElement(i.b,{to:"/about"},"About"),"\u2022",r.a.createElement(i.b,{to:"/help"},"Help"),"\u2022",r.a.createElement(i.b,{to:"/status"},"Status"),"\u2022",r.a.createElement(i.b,{to:"/github"},"Github"))}}]),t}(n.Component)),k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={tags:"story",queryType:"search_by_date",dateRange:0,numericFilters:!1,data:{},error:null,isLoaded:!1,loadAgain:!0,query:"",comment:!1,page:0,navInitialState:{searchType:"Stories",sortOrder:"Date",dateRange:"Past Week"}},a.handleTypeChange=a.handleTypeChange.bind(Object(d.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(d.a)(a)),a.handleSortOrderChange=a.handleSortOrderChange.bind(Object(d.a)(a)),a.handleDateRangeChange=a.handleDateRangeChange.bind(Object(d.a)(a)),a.getQuery=a.getQuery.bind(Object(d.a)(a)),a.getPage=a.getPage.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.handleDateRangeChange(this.state.navInitialState.dateRange)}},{key:"componentDidUpdate",value:function(){var e=this,t=!1;if(this.state.loadAgain){t="comment"===this.state.tags;var a=this.getQuery();console.log(a),window.fetch(a).then(function(e){return e.json()}).then(function(a){e.setState({data:a,isLoaded:!0,loadAgain:!1,comment:t,page:0})},function(a){e.setState({error:a,loadAgain:!1,comment:t})})}}},{key:"getPage",value:function(e){console.log(e.target.innerHTML);var t=+e.target.innerHTML-1;console.log(typeof t),this.setState({page:t,loadAgain:!0})}},{key:"getQuery",value:function(){var e=this.state.query.split(" ").join("+");return"https://hn.algolia.com/api/v1/"+this.state.queryType+"?query="+e+"&page="+this.state.page+"&tags="+this.state.tags+(this.state.numericFilters?"&numericFilters=created_at_i>"+this.state.dateRange:"")}},{key:"handleTypeChange",value:function(e){console.log(e);var t="";t="Stories"===e?"story":"Comments"===e?"comment":"",this.setState({tags:t,loadAgain:!0})}},{key:"handleSortOrderChange",value:function(e){var t="";t="Date"===e?"search_by_date":"search",this.setState({queryType:t,loadAgain:!0})}},{key:"handleDateRangeChange",value:function(e){console.log(e);var t=0,a=new Date,n=Math.floor(a/1e3),r=!1;switch(e){case"All time":t=0,r=!1;break;case"Past Year":t=n-31536e3,r=!0;break;case"Past Month":t=n-2678400,r=!0;break;case"Past Week":t=n-604800,r=!0;break;case"Last 24h":t=n-86400,r=!0;break;default:t=0,r=!1}this.setState({dateRange:t,numericFilters:r,loadAgain:!0}),console.log(t)}},{key:"handleInputChange",value:function(e){var t=e.target.value;this.setState({query:t,loadAgain:!0}),e.preventDefault()}},{key:"render",value:function(){return!1===this.state.isLoaded?r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(g,{search:!0,query:this.state.query,handleInputChange:this.handleInputChange}),r.a.createElement(v,{handleDateRangeChange:this.handleDateRangeChange,handleSortOrderChange:this.handleSortOrderChange,handleTypeChange:this.handleTypeChange,searchType:this.state.navInitialState.searchType,sortOrder:this.state.navInitialState.sortOrder,dateRange:this.state.navInitialState.dateRange}),r.a.createElement("div",{className:"error-message"},"Loading . . .")):null!=this.state.error?r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(g,{search:!0,query:this.state.query,handleInputChange:this.handleInputChange}),r.a.createElement(v,{handleDateRangeChange:this.handleDateRangeChange,handleSortOrderChange:this.handleSortOrderChange,handleTypeChange:this.handleTypeChange,searchType:this.state.navInitialState.searchType,sortOrder:this.state.navInitialState.sortOrder,dateRange:this.state.navInitialState.dateRange}),r.a.createElement("div",{className:"error-message"},"Sorry, there was an error loading the request. Please refresh the page to try again.")):0===this.state.data.hits.length?r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(g,{search:!0,query:this.state.query,handleInputChange:this.handleInputChange}),r.a.createElement(v,{handleDateRangeChange:this.handleDateRangeChange,handleSortOrderChange:this.handleSortOrderChange,handleTypeChange:this.handleTypeChange,searchType:this.state.navInitialState.searchType,sortOrder:this.state.navInitialState.sortOrder,dateRange:this.state.navInitialState.dateRange}),r.a.createElement("div",{className:"error-message"},"No results")):r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(g,{search:!0,query:this.state.query,handleInputChange:this.handleInputChange}),r.a.createElement(v,{handleDateRangeChange:this.handleDateRangeChange,handleSortOrderChange:this.handleSortOrderChange,handleTypeChange:this.handleTypeChange,searchType:this.state.navInitialState.searchType,sortOrder:this.state.navInitialState.sortOrder,dateRange:this.state.navInitialState.dateRange,processingTime:this.state.data.processingTimeMS,nbHits:this.state.data.nbHits}),r.a.createElement(C,{comment:this.state.comment,highlight:!0,data:this.state.data}),r.a.createElement(O,{data:this.state.data,getPage:this.getPage}),r.a.createElement(w,null))}}]),t}(n.Component);a(42);var S=function(){return r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(g,{search:!1}),r.a.createElement("h2",{className:"about-title"},"About"),r.a.createElement("div",{className:"about-content"},r.a.createElement("p",null,"This app was an excercise in learning ReactJS which is the library I used to build it. It is a working clone/copy of the Algolia Hacker News Search. It uses the Hacker News Search API which allows it to pull in the same data the real site does. You can see the Algolia Hacker News site at ",r.a.createElement("a",{href:"https://hn.algolia.com/"},"https://hn.algolia.com/"),". The AHN site pulls data from the ",r.a.createElement("a",{href:"https://news.ycombinator.com/"},"Y Combinator")," Hacker News site. This was an excercise suggested by ",r.a.createElement("a",{href:"https://daveceddia.com/react-practice-projects/"},"Dave Ceddia"),"."),r.a.createElement("p",null,"I created all the styles for the app myself and attempted to make them responsive so it is not a verbatim copy of the Algolia Hacker News site. Also, I created the code for the pagination myself and did not use a library. The site was designed with minimal code to get the job done."),r.a.createElement("p",null,"This project took me about two weeks to finish and taught me a lot along the way about React and the ReactJS ecosystem. You can view the code on GitHub at the GitHub link below."),r.a.createElement("p",null,"You can see other projects I have created on ",r.a.createElement("a",{href:"http://wordpress.timothygrindall.com/"},"my blog"))),r.a.createElement(w,null))};var j=function(){return r.a.createElement(i.a,null,r.a.createElement(o.a,{exact:!0,path:"/",component:k}),r.a.createElement(o.a,{path:"/about",component:S}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.0af9408c.chunk.js.map